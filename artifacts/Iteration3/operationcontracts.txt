Contract CO1: findConnections

Operation:
findConnections(origin: String, destination: String, minTransfer: int, maxLegs: int): List<List>

Cross References:
Use Case: Search for Connections

Preconditions:
	•	The list of routes has been loaded from the database into memory.
	•	The user has provided valid input for origin and destination cities.
	•	minTransfer and maxLegs are valid integers (minTransfer ≥ 0, 1 ≤ maxLegs ≤ 2).

Postconditions:
	•	Returns a list of possible connection paths (each path is a list of Connection objects) from the origin to the destination, satisfying the minimum transfer time and maximum number of legs.
	•	If no connections are found, returns an empty list.

----------------------------------------------------------------------------

Contract CO2: sortConnections

Operation:
sortByDuration / sortByFirstClassPrice / sortBySecondClassPrice(connections: List<List>): void

Cross References:
Use Case: Sort Search Results

Preconditions:
	•	The list of connections has been generated by findConnections.
	•	The user has selected a sorting option.

Postconditions:
	•	The list of connections is sorted in place according to the selected criterion (total duration, first-class price, or second-class price).

----------------------------------------------------------------------------

Contract CO3: bookTrip

Operation:
bookTrip(travellers: List, connection: Connection): Trip

Cross References:
Use Case: Book a Trip

Preconditions:
	•	Client has selected a valid connection from search results.
	•	Traveller information (name, age, ID) is provided for each passenger.
	•	Connection exists in the route catalog loaded from the database.
	•	Database connection is available.

Postconditions:
	•	A Trip is created with a unique numerical trip_id (auto-generated by the database).
	•	For each traveller, a Reservation and Ticket record are created with unique identifiers.
	•	All travellers are inserted or updated in the CLIENT table.
	•	Trip and all related records are persisted in the relational database (TRIP, RESERVATION, TICKET, CLIENT).
	•	Trip object is returned with all reservations and identifiers.

----------------------------------------------------------------------------

Contract CO4: viewTrips

Operation:
findTripsByTraveller(lastName: String, travellerId: String): List

Cross References:
Use Case: View Trips

Preconditions:
	•	Client provides valid lastName and travellerId.
	•	Database connection is available.

Postconditions:
	•	Returns a list of all Trip objects where at least one Reservation matches the provided lastName and travellerId.
	•	Each Trip is populated with data from the relational database (TRIP, CLIENT, CONNECTION, TICKET, RESERVATION tables).
	•	If no trips are found, returns an empty list.